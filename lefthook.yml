pre-commit:
  parallel: true
  commands:
    # AIDD
    aidd-generate-docs:
      run: cd aidd && npm run project:docs ; cd ../ && git add aidd-generated || true

    # Lint check - BLOCKING
    lint:
      run: pnpm lint
      fail_text: "❌ Lint failed! Fix the errors before committing."

    # TypeScript check - ENABLED ✅
    typecheck:
      run: pnpm typecheck
      fail_text: "❌ TypeScript errors found! Fix the type errors before committing."

pre-push:
  parallel: true
  commands:
    # Run lint before push
    lint:
      run: pnpm lint
      fail_text: "❌ Lint failed! Fix the errors before pushing to remote."

    # Run tests before push
    test:
      run: pnpm test:unit
      fail_text: "❌ Tests failed! Fix the tests before pushing to remote."
